<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="css/style.css" />
        <!-- Use MathJax following https://docs.mathjax.org/en/latest/web/start.html -->
        <script>
            MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };
        </script>
        <script type="text/javascript" id="MathJax-script" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.0.0/es5/latest?tex-mml-chtml.js">
        </script>
    </head>
<body>
    <script src="js/elm.js"></script>
    <script>
        var app = Elm.Main.init({
            flags: {
                width: window.innerWidth,
                height: window.innerHeight
            }
        });
        /* Add commands / subscriptions onto the app below */
        app.ports.updateMathJax.subscribe(function (val) { if (MathJax.typeset) MathJax.typeset(); });
        app.ports.evaluateString.subscribe(function (val) { app.ports.evaluateResult.send({"id": val["id"], "value": eval(val["str"])}); });
        app.ports.capture.subscribe(function (val) {
            if (val["set"]) document.getElementById(val["eId"]).setPointerCapture(val["pId"]);
            else document.getElementById(val["eId"]).releasePointerCapture(val["pId"]);
        });
        window.addEventListener("resize", function (e) {app.ports.resize.send({"width": window.outerWidth, "height": window.outerHeight})}, true);
    </script>
</body>
</html>